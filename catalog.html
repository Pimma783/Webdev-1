<!DOCTYPE html>
<html lang="th">

<head>
   
  <meta charset="UTF-8">
    <title>แค็ตตาล็อกสินค้า | 30 ปี วิทยาการคอมพิวเตอร์</title>
    <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f8ff;
    }

    header {
      background: #0055a5;
      color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-btn {
      background: white;
      color: #0055a5;
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
      padding: 20px;
    }

    .product {
      background: white;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .product img {
      max-width: 100%;
      height: 160px;
      object-fit: contain;
    }

    .product h3 {
      font-size: 16px;
      margin: 10px 0 5px;
    }

    .product p {
      margin: 5px 0;
    }

    .product button {
      margin-top: 10px;
      background: #0055a5;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <header>
      <h2>ของที่ระลึก 30 ปี</h2>
      <button class="cart-btn" onclick="window.location.href='checkout.html'">🛒 ตะกร้า (<span
        id="cart-count">0</span>)</button>
  </header>

  <div class="product-grid" id="productGrid">
      </div>

  <script>
    // ดึงสินค้าจาก localStorage ถ้ามี หรือใช้ข้อมูลจำลองหากยังไม่มีการเพิ่มสินค้าจากหน้า Admin
    const products = JSON.parse(localStorage.getItem("products")) || [
      {
        id: "CS001",
        name: "เสื้อครบรอบ",
        price: 250,
        stock: 100,
        image: "https://inwfile.com/s-cx/l77s26.jpg"
      },
      {
        id: "CS002",
        name: "หมวกที่ระลึก",
        price: 150,
        stock: 50,
        image: "https://d29c1z66frfv6c.cloudfront.net/pub/media/catalog/product/large/08e3fa65f62e3657b4073f6017985949898544c0_xxl-1.jpg"
      },
      {
        id: "CS003",
        name: "แก้วน้ำโลโก้",
        price: 120,
        stock: 75,
        image: "https://mediumandmore.com/wp-content/uploads/2023/10/LHC4137MIT_2-002.jpg"
      }
    ];

    const cart = JSON.parse(localStorage.getItem("cart")) || [];

    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      cart.push(product);
      localStorage.setItem("cart", JSON.stringify(cart));
      updateCartCount();
    }

    function updateCartCount() {
      document.getElementById("cart-count").innerText = cart.length;
    }

    function loadProducts() {
      const grid = document.getElementById("productGrid");
      grid.innerHTML = ''; // ล้าง grid ก่อนโหลดสินค้าใหม่ทุกครั้ง
      products.forEach(p => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
        <img src="${p.image}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p>ราคา: ${p.price} บาท</p>
        <p>คงเหลือ: ${p.stock} ชิ้น</p>
        <button class="cart-btn" onclick="window.location.href='checkout.html'">🛒 ตะกร้า (<span id="cart-count">0</span>)</button>
      `;
        grid.appendChild(div);
      });
    }

    loadProducts();
    updateCartCount();
  </script>

</body>

</html>